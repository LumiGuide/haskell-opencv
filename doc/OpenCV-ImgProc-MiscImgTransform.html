<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>OpenCV.ImgProc.MiscImgTransform</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_OpenCV-ImgProc-MiscImgTransform.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/OpenCV-ImgProc-MiscImgTransform.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">opencv-0.0.0: Haskell binding to OpenCV-3.1</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">OpenCV.ImgProc.MiscImgTransform</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Color conversion</a></li><li><a href="#g:2">Flood filling</a></li><li><a href="#g:3">Thresholding</a></li><li><a href="#g:4">Watershed</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:cvtColor">cvtColor</a> :: <span class="keyword">forall</span> fromColor toColor shape srcChannels dstChannels srcDepth dstDepth. (<a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorConversion">ColorConversion</a> fromColor toColor, <a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCodeMatchesChannels">ColorCodeMatchesChannels</a> fromColor srcChannels, dstChannels ~ <a href="OpenCV-TypeLevel.html#v:S">S</a> (<a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCodeChannels">ColorCodeChannels</a> toColor), srcDepth <a href="OpenCV-TypeLevel.html#t:In">`In`</a> `[<a href="OpenCV-TypeLevel.html#v:D">D</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word16">Word16</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a>]`, dstDepth ~ <a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCodeDepth">ColorCodeDepth</a> fromColor toColor srcDepth) =&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> fromColor -&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> toColor -&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape srcChannels srcDepth -&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape dstChannels dstDepth)</li><li class="src short">module <a href="OpenCV-ImgProc-MiscImgTransform-ColorCodes.html">OpenCV.ImgProc.MiscImgTransform.ColorCodes</a></li><li class="src short"><a href="#v:floodFill">floodFill</a> :: (<a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimMonad">PrimMonad</a> m, channels <a href="OpenCV-TypeLevel.html#t:In">`In`</a> `[<a href="OpenCV-TypeLevel.html#v:S">S</a> 1, <a href="OpenCV-TypeLevel.html#v:S">S</a> 3]`, depth <a href="OpenCV-TypeLevel.html#t:In">`In`</a> `[<a href="OpenCV-TypeLevel.html#v:D">D</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>]`, <a href="OpenCV-Internal-Core-Types-Point.html#t:IsPoint2">IsPoint2</a> point2 <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a>, <a href="OpenCV-Internal-Core-Types.html#t:ToScalar">ToScalar</a> color) =&gt; <a href="OpenCV-Internal-Mutable.html#t:Mut">Mut</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape channels depth) (<a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m) -&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="OpenCV-Internal-Mutable.html#t:Mut">Mut</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-Internal-ImgProc-MiscImgTransform-TypeLevel.html#t:WidthAndHeightPlusTwo">WidthAndHeightPlusTwo</a> shape) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>)) (<a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m)) -&gt; point2 <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a> -&gt; color -&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> color -&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> color -&gt; <a href="OpenCV-ImgProc-MiscImgTransform.html#t:FloodFillOperationFlags">FloodFillOperationFlags</a> -&gt; m <a href="OpenCV-Core-Types-Rect.html#t:Rect2i">Rect2i</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:FloodFillOperationFlags">FloodFillOperationFlags</a> = <a href="#v:FloodFillOperationFlags">FloodFillOperationFlags</a> {<ul class="subs"><li><a href="#v:floodFillConnectivity">floodFillConnectivity</a> :: <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a></li><li><a href="#v:floodFillMaskFillColor">floodFillMaskFillColor</a> :: <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a></li><li><a href="#v:floodFillFixedRange">floodFillFixedRange</a> :: <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:floodFillMaskOnly">floodFillMaskOnly</a> :: <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li></ul>}</li><li class="src short"><a href="#v:defaultFloodFillOperationFlags">defaultFloodFillOperationFlags</a> :: <a href="OpenCV-ImgProc-MiscImgTransform.html#t:FloodFillOperationFlags">FloodFillOperationFlags</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ThreshType">ThreshType</a><ul class="subs"><li>= <a href="#v:Thresh_Binary">Thresh_Binary</a> !<a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></li><li>| <a href="#v:Thresh_BinaryInv">Thresh_BinaryInv</a> !<a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></li><li>| <a href="#v:Thresh_Truncate">Thresh_Truncate</a></li><li>| <a href="#v:Thresh_ToZero">Thresh_ToZero</a></li><li>| <a href="#v:Thresh_ToZeroInv">Thresh_ToZeroInv</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ThreshValue">ThreshValue</a><ul class="subs"><li>= <a href="#v:ThreshVal_Abs">ThreshVal_Abs</a> !<a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></li><li>| <a href="#v:ThreshVal_Otsu">ThreshVal_Otsu</a></li><li>| <a href="#v:ThreshVal_Triangle">ThreshVal_Triangle</a></li></ul></li><li class="src short"><a href="#v:threshold">threshold</a> :: depth <a href="OpenCV-TypeLevel.html#t:In">`In`</a> `[<a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>, <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a>]` =&gt; <a href="OpenCV-ImgProc-MiscImgTransform.html#t:ThreshValue">ThreshValue</a> -&gt; <a href="OpenCV-ImgProc-MiscImgTransform.html#t:ThreshType">ThreshType</a> -&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> depth) -&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> depth), <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>)</li><li class="src short"><a href="#v:watershed">watershed</a> :: <a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimMonad">PrimMonad</a> m =&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[h, w]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>) -&gt; <a href="OpenCV-Internal-Mutable.html#t:Mut">Mut</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[h, w]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a>)) (<a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m) -&gt; <a href="OpenCV-Internal-Exception.html#t:CvExceptT">CvExceptT</a> m ()</li></ul></div><div id="interface"><h1 id="g:1">Color conversion</h1><div class="top"><p class="src"><a name="v:cvtColor" class="def">cvtColor</a> <a href="src/OpenCV-ImgProc-MiscImgTransform.html#cvtColor" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> (fromColor :: <a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCode">ColorCode</a>) (toColor :: <a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCode">ColorCode</a>) (shape :: <a href="OpenCV-TypeLevel.html#t:DS">DS</a> [<a href="OpenCV-TypeLevel.html#t:DS">DS</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a>]) (srcChannels :: <a href="OpenCV-TypeLevel.html#t:DS">DS</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a>) (dstChannels :: <a href="OpenCV-TypeLevel.html#t:DS">DS</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a>) (srcDepth :: <a href="OpenCV-TypeLevel.html#t:DS">DS</a> *) (dstDepth :: <a href="OpenCV-TypeLevel.html#t:DS">DS</a> *). (<a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorConversion">ColorConversion</a> fromColor toColor, <a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCodeMatchesChannels">ColorCodeMatchesChannels</a> fromColor srcChannels, dstChannels ~ <a href="OpenCV-TypeLevel.html#v:S">S</a> (<a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCodeChannels">ColorCodeChannels</a> toColor), srcDepth <a href="OpenCV-TypeLevel.html#t:In">`In`</a> `[<a href="OpenCV-TypeLevel.html#v:D">D</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word16">Word16</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a>]`, dstDepth ~ <a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCodeDepth">ColorCodeDepth</a> fromColor toColor srcDepth)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> fromColor</td><td class="doc"><p>Convert from <code><a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCode">ColorCode</a></code>. Make sure the source image has this <code><a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCode">ColorCode</a></code></p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> toColor</td><td class="doc"><p>Convert to <code><a href="OpenCV-Internal-ImgProc-MiscImgTransform-ColorCodes.html#t:ColorCode">ColorCode</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape srcChannels srcDepth</td><td class="doc"><p>Source image</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape dstChannels dstDepth)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Converts an image from one color space to another</p><p>The function converts an input image from one color space to
another. In case of a transformation to-from RGB color space, the
order of the channels should be specified explicitly (RGB or
BGR). Note that the default color format in OpenCV is often
referred to as RGB but it is actually BGR (the bytes are
reversed). So the first byte in a standard (24-bit) color image
will be an 8-bit Blue component, the second byte will be Green, and
the third byte will be Red. The fourth, fifth, and sixth bytes
would then be the second pixel (Blue, then Green, then Red), and so
on.</p><p>The conventional ranges for R, G, and B channel values are:</p><ul><li>0 to 255 for <code><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a></code> images</li><li>0 to 65535 for <code><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word16">Word16</a></code> images</li><li>0 to 1 for <code><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a></code> images</li></ul><p>In case of linear transformations, the range does not matter. But
in case of a non-linear transformation, an input RGB image should
be normalized to the proper value range to get the correct results,
for example, for RGB to L*u*v* transformation. For example, if you
have a 32-bit floating-point image directly converted from an 8-bit
image without any scaling, then it will have the 0..255 value range
instead of 0..1 assumed by the function. So, before calling
<code><a href="OpenCV-ImgProc-MiscImgTransform.html#v:cvtColor">cvtColor</a></code>, you need first to scale the image down:</p><pre> cvtColor (img * 1/255) 'ColorConvBGR2Luv'</pre><p>If you use <code><a href="OpenCV-ImgProc-MiscImgTransform.html#v:cvtColor">cvtColor</a></code> with 8-bit images, the conversion will have
some information lost. For many applications, this will not be
noticeable but it is recommended to use 32-bit images in
applications that need the full range of colors or that convert an
image before an operation and then convert back.</p><p>If conversion adds the alpha channel, its value will set to the
maximum of corresponding channel range: 255 for <code><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a></code>, 65535 for
<code><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word16">Word16</a></code>, 1 for <code><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a></code>.</p><p>Example:</p><pre>cvtColorImg
    :: forall (width    :: Nat)
              (width2   :: Nat)
              (height   :: Nat)
              (channels :: Nat)
              (depth    :: *)
     . ( Mat (ShapeT [height, width]) ('S channels) ('S depth) ~ Birds_512x341
       , width2 ~ (width + width)
       )
    =&gt; Mat (ShapeT [height, width2]) ('S channels) ('S depth)
cvtColorImg = exceptError $
    withMatM ((Proxy :: Proxy height) ::: (Proxy :: Proxy width2) ::: Z)
             (Proxy :: Proxy channels)
             (Proxy :: Proxy depth)
             white $ imgM -&gt; do
      birds_gray &lt;- pureExcept $   cvtColor gray bgr
                               =&lt;&lt; cvtColor bgr gray birds_512x341
      matCopyToM imgM (V2 0 0) birds_512x341 Nothing
      matCopyToM imgM (V2 w 0) birds_gray    Nothing
      lift $ arrowedLine imgM (V2 startX midY) (V2 pointX midY) red 4 LineType_8 0 0.15
  where
    h, w :: Int32
    h = fromInteger $ natVal (Proxy :: Proxy height)
    w = fromInteger $ natVal (Proxy :: Proxy width)

    startX, pointX :: Int32
    startX = round $ fromIntegral w * (0.95 :: Double)
    pointX = round $ fromIntegral w * (1.05 :: Double)
    midY = h `div` 2
</pre><p><img src="doc/generated/examples/cvtColorImg.png" title="cvtColorImg" /></p><p><a href="http://goo.gl/3rfrhu">OpenCV Sphinx Doc</a></p></div></div><div class="top"><p class="src">module <a href="OpenCV-ImgProc-MiscImgTransform-ColorCodes.html">OpenCV.ImgProc.MiscImgTransform.ColorCodes</a></p></div><h1 id="g:2">Flood filling</h1><div class="top"><p class="src"><a name="v:floodFill" class="def">floodFill</a> <a href="src/OpenCV-ImgProc-MiscImgTransform.html#floodFill" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimMonad">PrimMonad</a> m, channels <a href="OpenCV-TypeLevel.html#t:In">`In`</a> `[<a href="OpenCV-TypeLevel.html#v:S">S</a> 1, <a href="OpenCV-TypeLevel.html#v:S">S</a> 3]`, depth <a href="OpenCV-TypeLevel.html#t:In">`In`</a> `[<a href="OpenCV-TypeLevel.html#v:D">D</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a>, <a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>]`, <a href="OpenCV-Internal-Core-Types-Point.html#t:IsPoint2">IsPoint2</a> point2 <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a>, <a href="OpenCV-Internal-Core-Types.html#t:ToScalar">ToScalar</a> color)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="OpenCV-Internal-Mutable.html#t:Mut">Mut</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape channels depth) (<a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m)</td><td class="doc"><p>Input/output 1- or 3-channel, 8-bit, or floating-point image. It is modified by the function unless the FLOODFILL_MASK_ONLY flag is set.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="OpenCV-Internal-Mutable.html#t:Mut">Mut</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-Internal-ImgProc-MiscImgTransform-TypeLevel.html#t:WidthAndHeightPlusTwo">WidthAndHeightPlusTwo</a> shape) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>)) (<a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m))</td><td class="doc"><p>Operation mask that should be a single-channel 8-bit image, 2 pixels wider and 2 pixels taller than image. Since this is both an input and output parameter, you must take responsibility of initializing it. Flood-filling cannot go across non-zero pixels in the input mask. For example, an edge detector output can be used as a mask to stop filling at edges. On output, pixels in the mask corresponding to filled pixels in the image are set to 1 or to the a value specified in flags as described below. It is therefore possible to use the same mask in multiple calls to the function to make sure the filled areas do not overlap.
 Note: Since the mask is larger than the filled image, a pixel  (x, y) in image corresponds to the pixel  (x+1, y+1) in the mask.</p></td></tr><tr><td class="src">-&gt; point2 <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a></td><td class="doc"><p>Starting point.</p></td></tr><tr><td class="src">-&gt; color</td><td class="doc"><p>New value of the repainted domain pixels.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> color</td><td class="doc"><p>Maximal lower brightness/color difference between the currently observed pixel and one of its neighbors belonging to the component, or a seed pixel being added to the component. Zero by default.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> color</td><td class="doc"><p>Maximal upper brightness/color difference between the currently observed pixel and one of its neighbors belonging to the component, or a seed pixel being added to the component. Zero by default.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-ImgProc-MiscImgTransform.html#t:FloodFillOperationFlags">FloodFillOperationFlags</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="OpenCV-Core-Types-Rect.html#t:Rect2i">Rect2i</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The function <code><a href="OpenCV-ImgProc-MiscImgTransform.html#v:floodFill">floodFill</a></code> fills a connected component starting from the seed point with the specified color.</p><p>The connectivity is determined by the color/brightness closeness of the neighbor pixels. See the OpenCV
documentation for details on the algorithm.</p><p>Example:</p><pre>floodFillImg
    :: forall (width    :: Nat)
              (width2   :: Nat)
              (height   :: Nat)
              (channels :: Nat)
              (depth    :: *)
     . ( Mat (ShapeT [height, width]) ('S channels) ('S depth) ~ Sailboat_768x512
       , width2 ~ (width + width)
       )
    =&gt; Mat (ShapeT [height, width2]) ('S channels) ('S depth)
floodFillImg = exceptError $
    withMatM ((Proxy :: Proxy height) ::: (Proxy :: Proxy width2) ::: Z)
             (Proxy :: Proxy channels)
             (Proxy :: Proxy depth)
             white $ imgM -&gt; do
      sailboatEvening_768x512 &lt;- thaw sailboat_768x512
      mask &lt;- mkMatM (Proxy :: Proxy [height + 2, width + 2])
                     (Proxy :: Proxy 1)
                     (Proxy :: Proxy Word8)
                     black
      circle mask (V2 450 120 :: V2 Int32) 45 white (-1) LineType_AA 0
      rect &lt;- floodFill sailboatEvening_768x512 (Just mask) seedPoint eveningRed (Just tolerance) (Just tolerance) defaultFloodFillOperationFlags
      rectangle sailboatEvening_768x512 rect blue 2 LineType_8 0
      frozenSailboatEvening_768x512 &lt;- freeze sailboatEvening_768x512
      matCopyToM imgM (V2 0 0) sailboat_768x512 Nothing
      matCopyToM imgM (V2 w 0) frozenSailboatEvening_768x512 Nothing
      lift $ arrowedLine imgM (V2 startX midY) (V2 pointX midY) red 4 LineType_8 0 0.15
  where
    h, w :: Int32
    h = fromInteger $ natVal (Proxy :: Proxy height)
    w = fromInteger $ natVal (Proxy :: Proxy width)

    startX, pointX :: Int32
    startX = round $ fromIntegral w * (0.95 :: Double)
    pointX = round $ fromIntegral w * (1.05 :: Double)

    midY = h `div` 2

    seedPoint :: V2 Int32
    seedPoint = V2 100 50

    eveningRed :: V4 Double
    eveningRed = V4 0 100 200 255

    tolerance :: V4 Double
    tolerance = pure 7
</pre><p><img src="doc/generated/examples/floodFillImg.png" title="floodFillImg" /></p><p><a href="http://goo.gl/9XIIne">OpenCV Sphinx Doc</a></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:FloodFillOperationFlags" class="def">FloodFillOperationFlags</a> <a href="src/OpenCV-ImgProc-MiscImgTransform.html#FloodFillOperationFlags" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:FloodFillOperationFlags" class="def">FloodFillOperationFlags</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:floodFillConnectivity" class="def">floodFillConnectivity</a> :: <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a></dt><dd class="doc"><p>Connectivity value. The default value of 4 means that only the four nearest neighbor pixels (those that share
 an edge) are considered. A connectivity value of 8 means that the eight nearest neighbor pixels (those that share
 a corner) will be considered.</p></dd><dt class="src"><a name="v:floodFillMaskFillColor" class="def">floodFillMaskFillColor</a> :: <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a></dt><dd class="doc"><p>Value between 1 and 255 with which to fill the mask (the default value is 1).</p></dd><dt class="src"><a name="v:floodFillFixedRange" class="def">floodFillFixedRange</a> :: <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>If set, the difference between the current pixel and seed pixel is considered. Otherwise, the difference
 between neighbor pixels is considered (that is, the range is floating).</p></dd><dt class="src"><a name="v:floodFillMaskOnly" class="def">floodFillMaskOnly</a> :: <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>If set, the function does not change the image ( newVal is ignored), and only fills the mask with the
 value specified in bits 8-16 of flags as described above. This option only make sense in function variants
 that have the mask parameter.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:defaultFloodFillOperationFlags" class="def">defaultFloodFillOperationFlags</a> :: <a href="OpenCV-ImgProc-MiscImgTransform.html#t:FloodFillOperationFlags">FloodFillOperationFlags</a> <a href="src/OpenCV-ImgProc-MiscImgTransform.html#defaultFloodFillOperationFlags" class="link">Source</a></p></div><h1 id="g:3">Thresholding</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ThreshType" class="def">ThreshType</a> <a href="src/OpenCV-Internal-ImgProc-MiscImgTransform.html#ThreshType" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Thresh_Binary" class="def">Thresh_Binary</a> !<a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Thresh_BinaryInv" class="def">Thresh_BinaryInv</a> !<a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Thresh_Truncate" class="def">Thresh_Truncate</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Thresh_ToZero" class="def">Thresh_ToZero</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Thresh_ToZeroInv" class="def">Thresh_ToZeroInv</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ThreshType" class="caption collapser" onclick="toggleSection('i:ThreshType')">Instances</p><div id="section.i:ThreshType" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="OpenCV-ImgProc-MiscImgTransform.html#t:ThreshType">ThreshType</a></span> <a href="src/OpenCV-Internal-ImgProc-MiscImgTransform.html#line-22" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="OpenCV-ImgProc-MiscImgTransform.html#t:ThreshType">ThreshType</a></span> <a href="src/OpenCV-Internal-ImgProc-MiscImgTransform.html#line-22" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ThreshValue" class="def">ThreshValue</a> <a href="src/OpenCV-Internal-ImgProc-MiscImgTransform.html#ThreshValue" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ThreshVal_Abs" class="def">ThreshVal_Abs</a> !<a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ThreshVal_Otsu" class="def">ThreshVal_Otsu</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ThreshVal_Triangle" class="def">ThreshVal_Triangle</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ThreshValue" class="caption collapser" onclick="toggleSection('i:ThreshValue')">Instances</p><div id="section.i:ThreshValue" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="OpenCV-ImgProc-MiscImgTransform.html#t:ThreshValue">ThreshValue</a></span> <a href="src/OpenCV-Internal-ImgProc-MiscImgTransform.html#line-42" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="OpenCV-ImgProc-MiscImgTransform.html#t:ThreshValue">ThreshValue</a></span> <a href="src/OpenCV-Internal-ImgProc-MiscImgTransform.html#line-42" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:threshold" class="def">threshold</a> <a href="src/OpenCV-ImgProc-MiscImgTransform.html#threshold" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: depth <a href="OpenCV-TypeLevel.html#t:In">`In`</a> `[<a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>, <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Float">Float</a>]`</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="OpenCV-ImgProc-MiscImgTransform.html#t:ThreshValue">ThreshValue</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="OpenCV-ImgProc-MiscImgTransform.html#t:ThreshType">ThreshType</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> depth)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> shape (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> depth), <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Prelude.html#t:Double">Double</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Applies a fixed-level threshold to each array element</p><p>The function applies fixed-level thresholding to a single-channel array. The
function is typically used to get a bi-level (binary) image out of a
grayscale image or for removing a noise, that is, filtering out pixels with
too small or too large values. There are several types of thresholding
supported by the function.</p><p>Example:</p><pre>grayBirds :: Mat (ShapeT [341, 512]) ('S 1) ('S Word8)
grayBirds = exceptError $ cvtColor bgr gray birds_512x341

threshBinaryBirds :: Mat (ShapeT [341, 512]) ('S 3) ('S Word8)
threshBinaryBirds =
    exceptError $ cvtColor gray bgr $ fst $ exceptError $
    threshold (ThreshVal_Abs 100) (Thresh_Binary 150) grayBirds

threshBinaryInvBirds :: Mat (ShapeT [341, 512]) ('S 3) ('S Word8)
threshBinaryInvBirds =
    exceptError $ cvtColor gray bgr $ fst $ exceptError $
    threshold (ThreshVal_Abs 100) (Thresh_BinaryInv 150) grayBirds

threshTruncateBirds :: Mat (ShapeT [341, 512]) ('S 3) ('S Word8)
threshTruncateBirds =
    exceptError $ cvtColor gray bgr $ fst $ exceptError $
    threshold (ThreshVal_Abs 100) Thresh_Truncate grayBirds

threshToZeroBirds :: Mat (ShapeT [341, 512]) ('S 3) ('S Word8)
threshToZeroBirds =
    exceptError $ cvtColor gray bgr $ fst $ exceptError $
    threshold (ThreshVal_Abs 100) Thresh_ToZero grayBirds

threshToZeroInvBirds :: Mat (ShapeT [341, 512]) ('S 3) ('S Word8)
threshToZeroInvBirds =
    exceptError $ cvtColor gray bgr $ fst $ exceptError $
    threshold (ThreshVal_Abs 100) Thresh_ToZeroInv grayBirds
</pre><p><img src="doc/generated/examples/threshBinaryBirds.png" title="threshBinaryBirds" />
<img src="doc/generated/examples/threshBinaryInvBirds.png" title="threshBinaryInvBirds" />
<img src="doc/generated/examples/threshTruncateBirds.png" title="threshTruncateBirds" />
<img src="doc/generated/examples/threshToZeroBirds.png" title="threshToZeroBirds" />
<img src="doc/generated/examples/threshToZeroInvBirds.png" title="threshToZeroInvBirds" /></p><p><a href="http://docs.opencv.org/3.0-last-rst/modules/imgproc/doc/miscellaneous_transformations.html#threshold">OpenCV Sphinx doc</a></p></div></div><h1 id="g:4">Watershed</h1><div class="top"><p class="src"><a name="v:watershed" class="def">watershed</a> <a href="src/OpenCV-ImgProc-MiscImgTransform.html#watershed" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimMonad">PrimMonad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[h, w]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Word.html#t:Word8">Word8</a>)</td><td class="doc"><p>Input 8-bit 3-channel image</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Mutable.html#t:Mut">Mut</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> `[h, w]`) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/f5agn1jpb9ndyd84p3r5plbg9pr7fr1i-ghc-7.10.3/share/doc/ghc/html/libraries/base-4.8.2.0/Data-Int.html#t:Int32">Int32</a>)) (<a href="file:///nix/store/v7cpd41c99cg26x88razyb5fav1nbyzy-primitive-0.6.1.0/share/doc/x86_64-linux-ghc-7.10.3/primitive-0.6.1.0/html/Control-Monad-Primitive.html#t:PrimState">PrimState</a> m)</td><td class="doc"><p>Input/output 32-bit single-channel image (map) of markers</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Exception.html#t:CvExceptT">CvExceptT</a> m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Performs a marker-based image segmentation using the watershed algorithm.</p><p>The function implements one of the variants of watershed, non-parametric marker-based segmentation algorithm, described in [Meyer, F. Color Image Segmentation, ICIP92, 1992].</p><p>Before passing the image to the function, you have to roughly outline the desired regions in the image markers with positive (&gt;0) indices. So, every region is represented as one or more connected components with the pixel values 1, 2, 3, and so on. Such markers can be retrieved from a binary mask using <code>findContours</code> and <code>drawContours</code>. The markers are &#8220;seeds&#8221; of the future image regions. All the other pixels in markers , whose relation to the outlined regions is not known and should be defined by the algorithm, should be set to 0&#8217;s. In the function output, each pixel in markers is set to a value of the &#8220;seed&#8221; components or to -1 at boundaries between the regions.</p><p><a href="http://docs.opencv.org/3.0-last-rst/modules/imgproc/doc/miscellaneous_transformations.html#watershed">OpenCV Sphinx doc</a></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>