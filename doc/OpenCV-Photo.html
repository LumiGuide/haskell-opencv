<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>OpenCV.Photo</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_OpenCV-Photo.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/OpenCV-Photo.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">opencv-0.0.0: Haskell binding to OpenCV-3.1</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">OpenCV.Photo</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:InpaintingMethod">InpaintingMethod</a><ul class="subs"><li>= <a href="#v:InpaintNavierStokes">InpaintNavierStokes</a></li><li>| <a href="#v:InpaintTelea">InpaintTelea</a></li></ul></li><li class="src short"><a href="#v:inpaint">inpaint</a> :: channels <a href="OpenCV-TypeLevel.html#t:In">`In`</a> '[1, 3] =&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a> -&gt; <a href="OpenCV-Photo.html#t:InpaintingMethod">InpaintingMethod</a> -&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> channels) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>) -&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>) -&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> channels) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</li><li class="src short"><a href="#v:denoise_TVL1">denoise_TVL1</a> :: <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a> -&gt; <a href="file:///nix/store/rrszrw8fs3z6bv36zl34sm1nzg2zknji-vector-0.11.0.0/share/doc/x86_64-linux-ghc-8.0.1/vector-0.11.0.0/html/Data-Vector.html#t:Vector">Vector</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>)) -&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</li><li class="src short"><a href="#v:fastNlMeansDenoisingColored">fastNlMeansDenoisingColored</a> :: <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a> -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a> -&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>) -&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</li><li class="src short"><a href="#v:fastNlMeansDenoisingColoredMulti">fastNlMeansDenoisingColoredMulti</a> :: <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a> -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a> -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a> -&gt; <a href="file:///nix/store/rrszrw8fs3z6bv36zl34sm1nzg2zknji-vector-0.11.0.0/share/doc/x86_64-linux-ghc-8.0.1/vector-0.11.0.0/html/Data-Vector.html#t:Vector">Vector</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>)) -&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:InpaintingMethod" class="def">InpaintingMethod</a> <a href="src/OpenCV-Photo.html#InpaintingMethod" class="link">Source</a> <a href="#t:InpaintingMethod" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:InpaintNavierStokes" class="def">InpaintNavierStokes</a></td><td class="doc"><p>Navier-Stokes based method.</p></td></tr><tr><td class="src"><a id="v:InpaintTelea" class="def">InpaintTelea</a></td><td class="doc"><p>Method by Alexandru Telea.</p></td></tr></table></div><div class="subs instances"><p id="control.i:InpaintingMethod" class="caption collapser" onclick="toggleSection('i:InpaintingMethod')">Instances</p><div id="section.i:InpaintingMethod" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:InpaintingMethod:Show:1" class="instance expander" onclick="toggleSection('i:id:InpaintingMethod:Show:1')"></span> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:Show">Show</a> <a href="OpenCV-Photo.html#t:InpaintingMethod">InpaintingMethod</a></span> <a href="src/OpenCV-Photo.html#line-46" class="link">Source</a> <a href="#t:InpaintingMethod" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:InpaintingMethod:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="OpenCV-Photo.html#t:InpaintingMethod">InpaintingMethod</a> -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="OpenCV-Photo.html#t:InpaintingMethod">InpaintingMethod</a> -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="OpenCV-Photo.html#t:InpaintingMethod">InpaintingMethod</a>] -&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:inpaint" class="def">inpaint</a> <a href="src/OpenCV-Photo.html#inpaint" class="link">Source</a> <a href="#v:inpaint" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: channels <a href="OpenCV-TypeLevel.html#t:In">`In`</a> '[1, 3]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>inpaintRadius - Radius of a circular neighborhood of each
 point inpainted that is considered by the algorithm.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Photo.html#t:InpaintingMethod">InpaintingMethod</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> channels) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>)</td><td class="doc"><p>Input image.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>)</td><td class="doc"><p>Inpainting mask.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> channels) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</td><td class="doc"><p>Output image.</p></td></tr></table></div><div class="doc"><p>Restores the selected region in an image using the region neighborhood.</p><p>Example:</p><pre>inpaintImg
    :: forall h h2 w w2 c d
     . ( Mat (ShapeT [h, w]) ('S c) ('S d) ~ Bikes_512x341
       , h2 ~ ((*) h 2)
       , w2 ~ ((*) w 2)
       )
    =&gt; Mat ('S ['S h2, 'S w2]) ('S c) ('S d)
inpaintImg = exceptError $ do
    maskInv &lt;- bitwiseNot mask
    maskBgr &lt;- cvtColor gray bgr maskInv
    damaged &lt;- bitwiseAnd bikes_512x341 maskBgr
    repairedNS &lt;- inpaint 3 InpaintNavierStokes damaged mask
    repairedT  &lt;- inpaint 3 InpaintTelea        damaged mask
    withMatM
      (Proxy :: Proxy [h2, w2])
      (Proxy :: Proxy c)
      (Proxy :: Proxy d)
      black $ imgM -&gt; do
        matCopyToM imgM (V2 0 0) damaged Nothing
        matCopyToM imgM (V2 w 0) maskBgr Nothing
        matCopyToM imgM (V2 0 h) repairedNS Nothing
        matCopyToM imgM (V2 w h) repairedT  Nothing
  where
    mask = damageMask

    w = fromInteger $ natVal (Proxy :: Proxy w)
    h = fromInteger $ natVal (Proxy :: Proxy h)
</pre><p><img src="doc/generated/examples/inpaintImg.png" title="inpaintImg" /></p></div></div><div class="top"><p class="src"><a id="v:denoise_TVL1" class="def">denoise_TVL1</a> <a href="src/OpenCV-Photo.html#denoise_TVL1" class="link">Source</a> <a href="#v:denoise_TVL1" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>details more is more 2</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a></td><td class="doc"><p>Number of iterations that the algorithm will run</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/rrszrw8fs3z6bv36zl34sm1nzg2zknji-vector-0.11.0.0/share/doc/x86_64-linux-ghc-8.0.1/vector-0.11.0.0/html/Data-Vector.html#t:Vector">Vector</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</td><td class="doc"><p>Vector of odd number of input 8-bit 3-channel images.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 1) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</td><td class="doc"><p>Output image same size and type as input.</p></td></tr></table></div><div class="doc"><p>Perform denoise_TVL1</p><p>Example:</p><pre>
denoise_TVL1Img
    :: forall h w w2 c d
     . ( Mat (ShapeT [h, w]) ('S c) ('S d) ~ Lenna_512x512
       , w2 ~ ((*) w 2)
       )
    =&gt; Mat ('S ['S h, 'S w2]) ('S c) ('S d)
denoise_TVL1Img = exceptError $ do
    denoised &lt;- matChannelMapM (denoise_TVL1 2 50 . V.singleton) lenna_512x512
    withMatM
      (Proxy :: Proxy [h, w2])
      (Proxy :: Proxy c)
      (Proxy :: Proxy d)
      black $ imgM -&gt; do
        matCopyToM imgM (V2 0 0) lenna_512x512 Nothing
        matCopyToM imgM (V2 w 0) denoised Nothing
  where
    w = fromInteger $ natVal (Proxy :: Proxy w)
</pre><p><img src="doc/generated/examples/denoise_TVL1Img.png" title="denoise_TVL1Img" /></p></div></div><div class="top"><p class="src"><a id="v:fastNlMeansDenoisingColored" class="def">fastNlMeansDenoisingColored</a> <a href="src/OpenCV-Photo.html#fastNlMeansDenoisingColored" class="link">Source</a> <a href="#v:fastNlMeansDenoisingColored" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>Parameter regulating filter strength for luminance component.
 Bigger h value perfectly removes noise but also removes image
 details, smaller h value preserves details but also preserves
 some noise</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>The same as h but for color components. For most images value
 equals 10 will be enough to remove colored noise and do not
 distort colors</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a></td><td class="doc"><p>templateWindowSize Size in pixels of the template patch that
 is used to compute weights.
 Should be odd. Recommended value 7 pixels</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a></td><td class="doc"><p>searchWindowSize. Size in pixels of the window that is used
 to compute weighted average for given pixel. Should be odd.
 Affect performance linearly: greater searchWindowsSize
 - greater denoising time. Recommended value 21 pixels</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>)</td><td class="doc"><p>Input image 8-bit 3-channel image.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</td><td class="doc"><p>Output image same size and type as input.</p></td></tr></table></div><div class="doc"><p>Perform fastNlMeansDenoising function for colored images. Denoising is not
     per channel but in a different colour space</p><p>Example:</p><pre>fastNlMeansDenoisingColoredImg
    :: forall h w w2 c d
     . ( Mat (ShapeT [h, w]) ('S c) ('S d) ~ Lenna_512x512
       , w2 ~ ((*) w 2)
       )
    =&gt; Mat ('S ['S h, 'S w2]) ('S c) ('S d)
fastNlMeansDenoisingColoredImg = exceptError $ do
    denoised &lt;- fastNlMeansDenoisingColored 3 10 7 21 lenna_512x512
    withMatM
      (Proxy :: Proxy [h, w2])
      (Proxy :: Proxy c)
      (Proxy :: Proxy d)
      black $ imgM -&gt; do
        matCopyToM imgM (V2 0 0) lenna_512x512 Nothing
        matCopyToM imgM (V2 w 0) denoised Nothing
  where
    w = fromInteger $ natVal (Proxy :: Proxy w)
</pre><p><img src="doc/generated/examples/fastNlMeansDenoisingColoredImg.png" title="fastNlMeansDenoisingColoredImg" /></p></div></div><div class="top"><p class="src"><a id="v:fastNlMeansDenoisingColoredMulti" class="def">fastNlMeansDenoisingColoredMulti</a> <a href="src/OpenCV-Photo.html#fastNlMeansDenoisingColoredMulti" class="link">Source</a> <a href="#v:fastNlMeansDenoisingColoredMulti" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>Parameter regulating filter strength for luminance component.
 Bigger h value perfectly removes noise but also removes image
 details, smaller h value preserves details but also preserves
 some noise</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Prelude.html#t:Double">Double</a></td><td class="doc"><p>The same as h but for color components. For most images value
 equals 10 will be enough to remove colored noise and do not
 distort colors</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a></td><td class="doc"><p>templateWindowSize Size in pixels of the template patch that
 is used to compute weights. Should be odd.
 Recommended value 7 pixels</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Int.html#t:Int32">Int32</a></td><td class="doc"><p>searchWindowSize. Size in pixels of the window that is used to
 compute weighted average for given pixel. Should be odd.
 Affect performance linearly: greater searchWindowsSize -
 greater denoising time. Recommended value 21 pixels</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/rrszrw8fs3z6bv36zl34sm1nzg2zknji-vector-0.11.0.0/share/doc/x86_64-linux-ghc-8.0.1/vector-0.11.0.0/html/Data-Vector.html#t:Vector">Vector</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</td><td class="doc"><p>Vector of odd number of input 8-bit 3-channel images.</p></td></tr><tr><td class="src">-&gt; <a href="OpenCV-Internal-Exception.html#t:CvExcept">CvExcept</a> (<a href="OpenCV-Internal-Core-Types-Mat.html#t:Mat">Mat</a> (<a href="OpenCV-TypeLevel.html#v:S">S</a> '[h, w]) (<a href="OpenCV-TypeLevel.html#v:S">S</a> 3) (<a href="OpenCV-TypeLevel.html#v:S">S</a> <a href="file:///nix/store/dnzgjjy7yvvvzxxy78i2v7qi7m3d8zi1-ghc-8.0.1-doc/share/doc/ghc/html/libraries/base-4.9.0.0/Data-Word.html#t:Word8">Word8</a>))</td><td class="doc"><p>Output image same size and type as input.</p></td></tr></table></div><div class="doc"><p>Perform fastNlMeansDenoisingColoredMulti function for colored images.
     Denoising is not pre channel but in a different colour space.
     This wrapper differs from the original OpenCV version by using all input
     images and denoising the middle one. The original version would allow
     to have some arbitrary length vector and slide window over it. As we have
     to copy the haskell vector before we can use it as `std::vector` on the cpp
     side it is easier to trim the vector before sending and use all frames.</p><p>Example:</p><pre>fastNlMeansDenoisingColoredMultiImg
    :: forall h w w2 c d
     . ( Mat (ShapeT [h, w]) ('S c) ('S d) ~ Lenna_512x512
       , w2 ~ ((*) w 2)
       )
    =&gt; Mat ('S ['S h, 'S w2]) ('S c) ('S d)
fastNlMeansDenoisingColoredMultiImg = exceptError $ do
    denoised &lt;- fastNlMeansDenoisingColoredMulti 3 10 7 21 (V.singleton lenna_512x512)
    withMatM
      (Proxy :: Proxy [h, w2])
      (Proxy :: Proxy c)
      (Proxy :: Proxy d)
      black $ imgM -&gt; do
        matCopyToM imgM (V2 0 0) lenna_512x512 Nothing
        matCopyToM imgM (V2 w 0) denoised Nothing
  where
    w = fromInteger $ natVal (Proxy :: Proxy w)
</pre><p><img src="doc/generated/examples/fastNlMeansDenoisingColoredMultiImg.png" title="fastNlMeansDenoisingColoredMultiImg" /></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>